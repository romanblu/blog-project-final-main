(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{164:function(t,e,a){t.exports={container:"App_container__2uczn",sidebar:"App_sidebar__21De4","blog-posts":"App_blog-posts__3GBSu",bold:"App_bold__1RwwO",red:"App_red__2OLws","posts-list":"App_posts-list__3nKjJ","posts-list-item":"App_posts-list-item__2IUrk","about-content":"App_about-content__nTNtM","contact-form":"App_contact-form__1Hx_h","new-post":"App_new-post__2zC-f","submit-post":"App_submit-post__1iQGS","new-post-content":"App_new-post-content__3fvwG","smaller-font":"App_smaller-font__qmIyp","post-content":"App_post-content__3SLjC","signin-form":"App_signin-form__1Vv00"}},305:function(t,e,a){},306:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(21),r=a.n(i),o=a(13),c=a(14),l=a(16),d=a(15),u=a(29),h=a(19),p=a(101),g=a.n(p),m=a(159),j=a(8),b=a.n(j),f=a(57),O=(a(106),a(61)),v=a(2);var x=a(308),C=a(351),S=a(353),y=a(352),k=a(311),w=a(350),T=a(6),I=a(360),N=a(307),_=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).onClick=function(t){return function(){console.log(t),n.setState({currentTag:t,isClicked:!0})}},n.state={tags:n.props.tags,currentTag:null,isClicked:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=this.props.classes;return this.state.isClicked?Object(v.jsx)(h.a,{to:"/search/tag/".concat(this.state.currentTag.tag_name)}):Object(v.jsxs)(N.a,{component:"ul",className:e.root,children:[console.log("TAGS ",this.props.tags),this.props.tags&&this.props.tags.map((function(a){return console.log("TAG NAME ",a),Object(v.jsx)("li",{children:Object(v.jsx)(I.a,{color:"primary",label:a,onClick:t.onClick(a),className:e.chip})})}))]})}}]),a}(s.a.Component),P=Object(T.a)((function(t){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:t.spacing(.5),margin:0},chip:{margin:t.spacing(.5)}}}),{withTheme:!0})(_),A=a(358),L=a(349),D=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).onContentChange=function(t){n.setState({label:t.target.value})},n.onSubmit=function(t){t.preventDefault();var e=n.props.id,a={postId:e,label:n.state.label};b.a.post("/posts/".concat(e,"/tags"),a).then((function(t){var e=t.data;n.props.addTag(a),n.setState({postId:"",label:""}),console.log(e)}))},n.state={postId:void 0,label:void 0},n}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.classes;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(L.a,{ixs:12,sm:6,children:Object(v.jsx)(A.a,{className:t.text,id:"standard-basic",label:"Add new tag",onChange:this.onContentChange,value:this.state.label})}),Object(v.jsx)(L.a,{container:!0,justify:"flex-end",style:{marginTop:"10px",marginBottom:"10px"},children:Object(v.jsx)(w.a,{onClick:this.onSubmit,children:"Submit tag"})})]})}}]),a}(s.a.Component),U=Object(T.a)((function(t){return{root:{width:"100%"},paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:t.palette.secondary.main},form:{width:"100%",marginTop:t.spacing(3)},submit:{margin:t.spacing(3,0,2)},button:{margin:t.spacing(0,0,2),justifyContent:"space-between"},text:{marginTop:t.spacing(3),display:"flex",flexDirection:"column",minWidth:600}}}),{withTheme:!0})(D),E=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handlePostDelete=function(){var t=n.state.id,e="api/posts/".concat(t);b.a.delete(e).then((function(e){console.log("Posts deleted"),n.props.deletePost(t)})).catch((function(t){return console.log("Could not delete post. Error: ",t)})),n.props.hasUpdated()},n.redirectToPost=function(){n.setState({redirect:!0})},n.renderRedirect=function(){if(n.state.redirect)return Object(v.jsx)(h.a,{to:"post/".concat(n.state.id)})},n.handlePostEdit=function(){n.props.editPost(n.state.id)},n.editDeleteButtons=function(){return n.state.isAuthor?Object(v.jsxs)("div",{className:"edit-delete",children:[Object(v.jsx)(w.a,{onClick:n.handlePostDelete,className:"delete-post",children:"Delete"}),Object(v.jsx)(w.a,{onClick:n.handlePostEdit,className:"edit-post",children:Object(v.jsx)(u.b,{to:{pathname:"/edit-post/".concat(n.state.id),state:{title:n.state.title,content:n.state.content,image:n.state.image}},children:"Edit"})})]}):""},n.state={id:n.props.id,index:n.props.index,title:n.props.title,description:n.props.description,date:n.props.datePosted,authorName:n.props.authorName,authorId:n.props.authorId,image:n.props.imageSrc,tags:n.props.tags,loggedUser:n.props.currentUser,isAuthor:!1,hasUpdated:!1,redirect:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.currentUser?this.props.currentUser.userId===this.state.authorId&&this.setState({isAuthor:!0}):this.setState({isAuthor:!1})}},{key:"componentDidUpdate",value:function(t){t.currentUser!==this.props.currentUser&&(this.props.currentUser?this.props.currentUser.userId===this.state.authorId&&this.setState({isAuthor:!0}):this.setState({isAuthor:!1}))}},{key:"render",value:function(){var t=this.props.classes;return Object(v.jsxs)(C.a,{className:t.root,children:[Object(v.jsx)(y.a,{onClick:this.redirectToPost,className:t.media,image:this.props.image,title:this.props.title}),Object(v.jsx)(P,{tags:["asd","asdasda","zxczxc"],postId:this.props.id}),this.editDeleteButtons(),Object(v.jsxs)(k.a,{className:t.author,component:"p",variant:"h6",align:"left",children:["writen by ",this.state.authorName]}),Object(v.jsxs)(S.a,{children:[Object(v.jsx)(k.a,{variant:"body2",style:{marginBottom:10},color:"textSecondary",component:"p",children:this.props.date}),Object(v.jsx)(k.a,{onClick:this.redirectToPost.bind(this),className:t.title,gutterBottom:!0,variant:"h5",style:{marginBottom:15},component:"h2",children:this.props.title}),Object(v.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:this.props.description})]}),this.renderRedirect()]})}}]),a}(s.a.Component),q=Object(x.a)((function(t){return{root:{minWidth:375,margin:"auto",height:"100%"},media:{height:300,width:"100%",cursor:"pointer"},title:{cursor:"pointer"},author:{marginLeft:15}}}))(E),B=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.postsLinks.map((function(t,e){return Object(v.jsxs)("li",{className:"posts-list-item",children:[t.postTitle," ",Object(v.jsx)("a",{href:t.destination,children:"go to page"})]},e)}));return Object(v.jsxs)("div",{className:"posts-list",children:[Object(v.jsx)("h1",{children:this.props.title}),Object(v.jsx)("ul",{children:t})]})}}]),a}(s.a.Component),W=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).updatePosts=function(){n.setState({hasUpdated:!0})},n.getUserById=function(){var t=Object(m.a)(g.a.mark((function t(e){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/api/users/"+e,b.a.get(a).then((function(t){return t.data}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.getAuthorNameById=function(){return new Promise((function(t){}))},n.getAllPosts=function(){b.a.get("/api/posts").then((function(t){console.log(t.data),n.setState({data:t.data,resp:null})}))},n.describeContent=function(t){var e=t.replace(/<\/?[^>]+(>|$)/g,"");return e.length>250&&(e=e.substring(0,250)+"..."),e},n.handlePostDelete=function(t){var e=n.state.data.filter((function(e){return e.id!==t}));console.log(e),n.setState({data:e})},n.state={data:[],hasUpdated:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(t){!0===this.state.hasUpdated&&(this.getAllPosts(),this.setState({hasUpdated:!1}))}},{key:"componentDidMount",value:function(){this.getAllPosts()}},{key:"render",value:function(){var t=this;this.getAuthorNameById().then((function(t){return console.log(t)}));var e=this.state.data.map((function(e){return Object(v.jsx)(L.a,{item:!0,xs:4,children:Object(v.jsx)(q,{title:e.title,description:t.describeContent(e.content),date:e.date,image:e.image,authorName:e.author_name,authorId:e.author_id,imageSrc:e.image,id:e.id,name:e.author_name,currentUser:t.props.loggedUser,deletePost:t.handlePostDelete,editPost:t.props.editPost,hasUpdated:t.updatePosts},e.id)})})),a=this.props.classes;return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)(k.a,{className:a.pageTitle,gutterBottom:!0,variant:"h2",align:"center",children:"This is my blog"}),Object(v.jsx)(L.a,{container:!0,spacing:3,children:e})]})}}]),a}(s.a.Component),R=Object(x.a)((function(t){return{root:{flexGrow:1,marginTop:50},pageTitle:{marginBottom:75}}}))(W),M=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"About my blog"}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"about-content",children:Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati dolores porro itaque totam, autem ipsam consectetur asperiores placeat alias vitae doloribus sapiente nulla esse! Sapiente error deserunt doloremque saepe non optio praesentium magnam blanditiis ut numquam. A labore tempore delectus, sed doloribus officiis error dignissimos sint suscipit temporibus assumenda optio explicabo velit ducimus architecto. Quia doloremque similique soluta harum iste dolorum impedit assumenda mollitia quibusdam ullam tenetur perspiciatis odio, ab ducimus omnis porro commodi, nihil ipsa aliquam nemo maxime non. Vel dicta voluptatibus consectetur similique distinctio consequatur, quaerat asperiores, hic cupiditate quam, excepturi provident libero dolore enim ipsum temporibus dolor!"})}),Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)(B,{title:"Latest",postsLinks:[{postTitle:"Blog post #1 ",destination:"#"},{postTitle:"Blog post #2 ",destination:"#"},{postTitle:"Blog post #3 ",destination:"#"}]}),Object(v.jsx)(B,{title:"Popular",postsLinks:[{postTitle:"Blog post #3 ",destination:"#"},{postTitle:"Blog post #1 ",destination:"#"},{postTitle:"Blog post #2 ",destination:"#"}]})]})]})]})}}]),a}(s.a.Component),z=a(354),H=a(359),F=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeUsername=function(t){n.setState({user:t.target.value})},n.changePassword=function(t){n.setState({password:t.target.value})},n.login=function(t){t.preventDefault();var e={user:n.state.user,password:n.state.password};b.a.post("/api/login",e).then((function(t){n.setState({data:[],resp:"Success, user logged in ",error:!1,redirect:!0}),n.props.onSignIn(e)})).catch((function(t){n.setState({data:[],resp:"Error, could not login user",error:!0})}))},n.handleRedirect=function(){if(n.state.redirect)return Object(v.jsx)(h.a,{to:"/"})},n.state={resp:null,user:null,password:null,error:!1,redirect:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(z.a,{maxWidth:"sm",children:Object(v.jsxs)(H.a,{mt:"20vh",alignContent:"center",children:[Object(v.jsx)(k.a,{component:"h1",variant:"h2",align:"center",children:"Login"}),Object(v.jsxs)("form",{action:"",children:[Object(v.jsx)(A.a,{onChange:this.changeUsername,label:"Username",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Wrong username or password",error:this.state.error}),Object(v.jsx)(A.a,{onChange:this.changePassword,label:"Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Wrong username or password",error:this.state.error}),Object(v.jsx)(H.a,{mt:2,mb:2,children:Object(v.jsx)(w.a,{onClick:this.login,variant:"contained",color:"primary",fullWidth:!0,type:"submit",margin:"normal",children:"Login"})}),Object(v.jsxs)(H.a,{textAlign:"center",children:[Object(v.jsx)(w.a,{href:"/signin",color:"primary",children:"Forgot Username/Password"}),Object(v.jsx)(w.a,{href:"/signup",color:"secondary",children:"No account? Sign up!"})]})]})]})}),this.handleRedirect()]})}}]),a}(s.a.Component),G=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeUsername=function(t){n.setState({user:t.target.value})},n.changeName=function(t){n.setState({name:t.target.value})},n.changePassword=function(t){n.setState({password:t.target.value})},n.signup=function(t){t.preventDefault();var e={name:n.state.name,user:n.state.user,password:n.state.password};b.a.post("/api/signup",e).then((function(t){n.setState({data:[],resp:"Success, user signed up"}),n.props.onSignIn({user:e.user,password:e.password})})).catch((function(t){n.setState({data:[],resp:"Error, could not sign up user"})}))},n.state={resp:null,user:null,password:null,name:null},n}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(z.a,{maxWidth:"sm",children:Object(v.jsxs)(H.a,{mt:"20vh",alignContent:"center",children:[Object(v.jsx)(k.a,{component:"h1",variant:"h2",align:"center",children:"Sign Up"}),Object(v.jsxs)("form",{action:"",children:[Object(v.jsx)(A.a,{onChange:this.changeName,label:"Name",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(v.jsx)(A.a,{onChange:this.changeUsername,label:"Username",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(v.jsx)(A.a,{onChange:this.changePassword,label:"Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(v.jsx)(A.a,{onChange:this.changeRepeatPassword,label:"Repeat Password",type:"password",variant:"outlined",required:!0,fullWidth:!0,margin:"normal"}),Object(v.jsx)(H.a,{mt:2,mb:2,children:Object(v.jsx)(w.a,{onClick:this.signup,variant:"contained",color:"primary",fullWidth:!0,type:"submit",margin:"normal",children:"Sign Up!"})})]})]})})})}}]),a}(s.a.Component),V=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).getAuthorNameById=function(t){var e="/api/users/"+t;b.a.get(e).then((function(t){n.setState({authorName:t.data.username})}))},n.getPostById=function(t){var e="/api/posts/"+t;b.a.get(e).then((function(e){n.setState({data:e.data,id:t,title:e.data.title,content:e.data.content,authorId:e.data.author_id,image:e.data.image,authorName:e.data.author_name})}))},n.state={data:{},user:{name:"",username:"",password:""},id:n.props.id,title:n.props.title,content:n.props.description,date:n.props.datePosted,authorName:n.props.username,authorId:n.props.authorId,image:n.props.imageSrc},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.match.params.id;this.getPostById(t)}},{key:"render",value:function(){var t=this.props.classes;return console.log(this.state),Object(v.jsx)("div",{className:t.root,children:Object(v.jsxs)("div",{className:t.container,children:[Object(v.jsx)(k.a,{className:t.title,component:"h3",variant:"h4",align:"center",children:this.state.title}),this.state.tags?this.state.tags.length>0&&Object(v.jsx)(P,{tags:this.state.tags,postId:this.statenewPostId,handleDelete:this.handleDelete}):null,Object(v.jsxs)(k.a,{className:t.author,component:"p",variant:"h6",align:"left",children:["writen by ",this.state.authorName]}),Object(v.jsx)("img",{className:t.image,src:this.state.image}),Object(v.jsx)("div",{className:t.content,dangerouslySetInnerHTML:{__html:this.state.content}})]})})}}]),a}(s.a.Component),J=Object(x.a)((function(t){return{root:{},container:{backgroundColor:"#fff",paddingTop:75,maxWidth:800,margin:"auto"},image:{marginTop:35,marginBottom:50,width:"100%"},content:{paddingLeft:30,paddingRight:30,paddingBottom:50},title:{marginLeft:25,marginRight:25},author:{marginTop:25,marginLeft:25}}}))(V),Q=a(27),K=a(20),$=a(104),X=(a(303),a(105)),Y=a.n(X),Z=a(165),tt=a(355),et=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).addTag=function(t){n.setState({tags:[].concat(Object(f.a)(n.state.tags),[t])}),console.log("AddTag invoked")},n.handleDelete=function(t){return function(){n.setState({chips:function(e){return e.filter((function(e){return e.key!==t.key}))}});var e=t.label,a=n.state.postId;console.log(a),b.a.post("/posts/".concat(a,"/tags/").concat(e)).then((function(e){n.setState({tags:n.state.tags.filter((function(e){return e.label!==t.label}))})})),console.log("handle detele")}},n.state={title:"",content:"",image:"",tags:[],editorState:K.EditorState.createEmpty()},n.handleTitleChange=n.handleTitleChange.bind(Object(Q.a)(n)),n.handleContentChange=n.handleContentChange.bind(Object(Q.a)(n)),n.handleImageUrlChange=n.handleImageUrlChange.bind(Object(Q.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n.onEditorStateChange=n.onEditorStateChange.bind(Object(Q.a)(n)),n}return Object(c.a)(a,[{key:"handleTitleChange",value:function(t){this.setState({title:t.target.value})}},{key:"handleContentChange",value:function(t){this.setState({content:t.target.value})}},{key:"handleImageUrlChange",value:function(t){this.setState({image:t.target.value})}},{key:"onEditorStateChange",value:function(t){this.setState({editorState:t})}},{key:"handleSubmit",value:function(){var t={title:this.state.title,tags:this.state.tags,content:this.state.content,image:this.state.image,author_id:this.props.user.userId};b.a.post("/api/posts",t).then((function(t){console.log("NEW POST ADDED")}))}},{key:"render",value:function(){var t=this.state.editorState,e=this.props.classes;return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(U,{id:1,addTag:this.addTag,setTag:this.getTags}),Object(v.jsx)(tt.a,{}),this.state.tags?this.state.tags.length>0&&Object(v.jsx)(P,{tags:this.state.tags,postId:1,handleDelete:this.handleDelete}):null,Object(v.jsx)(tt.a,{}),Object(v.jsx)("div",{className:e.editor,children:Object(v.jsx)($.Editor,{editorState:t,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange,toolbar:{image:{defaultSize:{width:100}}}})}),Object(v.jsx)("textarea",{disabled:!0,value:Y()(Object(K.convertToRaw)(t.getCurrentContent()))}),Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:Y()(Object(K.convertToRaw)(t.getCurrentContent()))}}),Object(v.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(Z.a)(t.getCurrentContent())}}),Object(v.jsx)($.Editor,{editorState:K.EditorState.createWithContent(Object(K.ConvertFromRaw)(t)),readOnly:!0})]})})}}]),a}(s.a.Component);Object(x.a)((function(t){return{root:{width:"50%",marginLeft:"auto",marginRight:"auto",innerHeight:500},editor:{}}}))(et);function at(t){return Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:"Logging out"})})}var nt=a(87),st=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={title:"",postContent:"",image:"",postId:n.props.match.params.postId},n.handleTitleChange=n.handleTitleChange.bind(Object(Q.a)(n)),n.handleContentChange=n.handleContentChange.bind(Object(Q.a)(n)),n.handleImageUrlChange=n.handleImageUrlChange.bind(Object(Q.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Q.a)(n)),n.onChange=n.onChange.bind(Object(Q.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this,e="/api/posts/".concat(this.props.match.params.postId);b.a.get(e).then((function(e){console.log("Post data ",e),t.setState({title:e.data.title,postContent:e.data.content,image:e.data.image})})).catch((function(t){return console.log("Could not retrieve post. Error: ",t)}))}},{key:"handleTitleChange",value:function(t){this.setState({title:t.target.value})}},{key:"handleContentChange",value:function(t){this.setState({content:t.target.value})}},{key:"handleImageUrlChange",value:function(t){this.setState({image:t.target.value})}},{key:"onChange",value:function(t){console.log(t.target.getContent()),this.setState({postContent:t.target.getContent()})}},{key:"handleSubmit",value:function(){var t="/api/posts/".concat(this.props.match.params.postId),e={title:this.state.title,content:this.state.postContent,image:this.state.image};b.a.put(t,e).then((function(t){return console.log("SUCCESS ",t)})).catch((function(t){return console.log("error",t)}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(k.a,{component:"h3",variant:"h3",align:"center",color:"primary",children:"Edit post"}),Object(v.jsx)(A.a,{onChange:this.handleImageUrlChange,label:"Image",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter an image",value:this.state.image,error:this.state.error}),Object(v.jsx)(A.a,{onChange:this.handleTitleChange,label:"Title",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter a title",value:this.state.title,error:this.state.error}),Object(v.jsx)(nt.a,{init:{plugins:"link image code",toolbar:"fontselect fontsizeselect formatselect | bold italic underline strikethrough subscript superscript | blockquote removeformat | forecolor backcolor | alignleft aligncenter alignright alignjustify | indent outdent | numlist bullist | link unlink | hr table image | fullscreen code | undo redo"},initialValue:this.state.postContent,onChange:this.onChange}),Object(v.jsx)(w.a,{onClick:this.handleSubmit,color:"primary",variant:"outlined",children:"Submit Edit"})]})}}]),a}(n.Component),it=Object(x.a)((function(t){return{}}))(st),rt=(a(305),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).createInitials=function(){var e=t.props.firstName,a=t.props.lastName;return e.charAt(0)+""+a.charAt(0)},t}return Object(c.a)(a,[{key:"render",value:function(){return Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"profile",children:[Object(v.jsx)("div",{className:"border"}),Object(v.jsx)("div",{className:"profile-image",children:Object(v.jsx)("div",{className:"name",children:this.createInitials})}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"hey",children:"Hey "+this.props.username+" :)"}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"details",children:"First Name: "+this.props.firstName}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"details",children:"Last Name: "+this.props.lastName})]})})}}]),a}(s.a.Component)),ot=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).changeTag=function(t){n.setState({newTag:t.target.value})},n.changeImage=function(t){n.setState({image:t.target.value})},n.changeTitle=function(t){n.setState({title:t.target.value})},n.addTag=function(){n.setState({tags:[].concat(Object(f.a)(n.state.tags),[n.state.newTag])}),console.log("AddTag invoked  ",n.state.tags)},n.handleDelete=function(t){return function(){n.setState({chips:function(e){return e.filter((function(e){return e.key!==t.key}))}});var e=t.label,a=n.state.newPostId;console.log(a),b.a.post("/posts/".concat(a,"/tags/").concat(e)).then((function(e){n.setState({tags:n.state.tags.filter((function(e){return e.label!==t.label}))})})),console.log("handle detele")}},n.onSubmit=function(t){console.log("POST ADDED");var e={title:n.state.title,content:n.state.postContent,image:n.state.image,author_id:n.props.user.userId,author_name:n.props.user.username,tags:n.state.tags};b.a.post("/api/posts",e).then((function(t){n.setState({redirect:!0,newPostId:t.data.id})}))},n.handleRedirect=function(){if(n.state.redirect)return Object(v.jsx)(h.a,{to:"post/".concat(n.state.newPostId)})},n.tagsView=function(){return Object(v.jsx)("div",{})},n.onChange=n.onChange.bind(Object(Q.a)(n)),n.state={postContent:"",error:!1,image:"",tags:[],newTag:"",title:"",redirect:!1,newPostId:null},n}return Object(c.a)(a,[{key:"onChange",value:function(t){console.log(t.target.getContent()),this.setState({postContent:t.target.getContent()})}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(U,{id:this.state.newPostId,addTag:this.addTag,setTag:this.getTags}),Object(v.jsx)(k.a,{component:"h3",variant:"h3",align:"center",color:"primary",children:"Add A New Post"}),Object(v.jsx)(A.a,{onChange:this.changeImage,label:"Image",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter an image",error:this.state.error}),Object(v.jsx)(A.a,{onChange:this.changeTag,label:"tag",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Enter a tag",error:this.state.error}),this.state.tags?this.state.tags.length>0&&Object(v.jsx)(P,{tags:this.state.tags,postId:this.statenewPostId,handleDelete:this.handleDelete}):null,Object(v.jsx)(w.a,{onClick:this.addTag,color:"primary",variant:"outlined",children:"Add Tag"}),this.tagsView(),Object(v.jsx)(A.a,{onChange:this.changeTitle,label:"Title",variant:"outlined",required:!0,fullWidth:!0,margin:"normal",id:"standard-error-helper-text",helperText:"Please enter a title",error:this.state.error}),Object(v.jsx)(nt.a,{init:{plugins:"link image code",toolbar:"fontselect fontsizeselect formatselect | bold italic underline strikethrough subscript superscript | blockquote removeformat | forecolor backcolor | alignleft aligncenter alignright alignjustify | indent outdent | numlist bullist | link unlink | hr table image | fullscreen code | undo redo"},onChange:this.onChange}),Object(v.jsx)(w.a,{onClick:this.onSubmit,color:"primary",variant:"outlined",children:"Add Post"}),this.handleRedirect()]})}}]),a}(s.a.Component),ct=a(312),lt=a(356),dt=Object(ct.a)((function(t){return{root:{fontFamily:"sans-serif",display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",gap:20,color:"rgb(38,38,38)",height:75,alignItems:"center",backgroundColor:"#fff",paddingLeft:"10%",paddingRight:"10%"},navLink:{fontSize:18,marginRight:20,textDecoration:"none","&:hover":{textDecorationThickness:3},color:"rgb(38,38,38)"},active:{"&:hover":{textDecorationThickness:3},fontSize:22,color:"rgb(38,38,38)",fontWeight:600},leftLinks:{display:"flex",flexDirection:"row",justifyContent:"start",justifyItems:"center",gap:20},rightLinks:{display:"flex",flexDirection:"row",justifyContent:"end",gap:20}}}));function ut(t){var e=Object(n.useState)(""),a=Object(O.a)(e,2),s=(a[0],a[1],dt());return Object(v.jsxs)("div",{className:s.root,children:[Object(v.jsxs)("div",{className:s.leftLinks,children:[Object(v.jsx)(lt.a,{to:"/home",component:u.b,className:s.navLink,children:"Home"}),Object(v.jsx)(lt.a,{to:"/about",component:u.b,className:s.navLink,children:"About Us"}),Object(v.jsx)(lt.a,{to:"/contact",component:u.b,className:s.navLink,children:"Contact"}),Object(v.jsx)(lt.a,{to:"/new-post",component:u.b,className:s.navLink,children:"Add new post"})]}),Object(v.jsxs)("div",{className:s.rightLinks,children:[t.user?Object(v.jsxs)(lt.a,{to:"/profile",component:u.b,className:s.navLink,children:["Hello, ",t.user.username]}):"",t.user?Object(v.jsx)(k.a,{onClick:function(){t.setLogout()},component:u.b,className:s.navLink,children:"Logout"}):Object(v.jsx)(lt.a,{to:"/signin",component:u.b,className:s.navLink,children:"Login"})]})]})}var ht=a(166),pt=a(357),gt=a(164),mt=a.n(gt),jt=Object(ht.a)({backgroundColor:"#eff4f2"}),bt=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).setLogin=function(t){b.a.get("/api/user").then((function(e){localStorage.setItem("username",t.user),localStorage.setItem("userId",e.data.user_id),n.setState({userLoggedIn:!0,user:{username:t.user,userId:e.data.user_id}})}))},n.editPost=function(t){},n.setLogout=function(){b.a.post("/api/logout",{}).then((function(t){console.log("Logged out successfully"),n.setState({userLoggedIn:!1,user:null})}))},n.state={userLoggedIn:!1,user:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){null==this.state.user&&this.getUserData()}},{key:"getUserData",value:function(){var t=this;b.a.get("/api/user").then((function(e){var a=e.data.user_id;b.a.get("/api/users/"+a).then((function(e){t.setState({user:{username:e.data.username,userId:e.data.id},userLoggedIn:!0})}))})).catch((function(){return console.log("No user logged in")}))}},{key:"render",value:function(){return Object(v.jsx)(pt.a,{theme:jt,children:Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(ut,{user:this.state.user,setLogout:this.setLogout}),Object(v.jsx)("div",{className:mt.a.container,children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.b,{path:"/about",children:Object(v.jsx)(M,{})}),Object(v.jsx)(h.b,{path:"/signin",children:Object(v.jsx)(F,{onSignIn:this.setLogin,onLogout:this.setLogout})}),Object(v.jsx)(h.b,{path:"/signup",children:Object(v.jsx)(G,{onSignIn:this.setLogin})}),Object(v.jsx)(h.b,{path:"/logout",children:Object(v.jsx)(at,{user:this.state.user})}),Object(v.jsx)(h.b,{path:"/post/:id",component:J}),Object(v.jsx)(h.b,{path:"/profile",component:rt}),Object(v.jsx)(h.b,{path:"/new-post",children:Object(v.jsx)(ot,{user:this.state.user})}),Object(v.jsx)(h.b,{path:"/edit-post/:postId",component:it}),Object(v.jsx)(h.b,{path:"/",children:Object(v.jsx)(R,{loggedUser:this.state.user||void 0,editPost:this.editPost,deletePost:this.deletePost})})]})})]})})})}}]),a}(s.a.Component);r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(bt,{})}),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.72e60482.chunk.js.map